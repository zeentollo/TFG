"use strict";(self["webpackChunktfg"]=self["webpackChunktfg"]||[]).push([[367],{5367:function(r,e,o){o.r(e),o.d(e,{default:function(){return C}});o(4114);var i=o(6768),s=o(5130),t=o(8839),a=o(144),n=o(4373),c=o(1387),u=o(782),l=o(4874),d=o.n(l);const p=r=>((0,i.Qi)("data-v-64d5a539"),r=r(),(0,i.jt)(),r),m={id:"principal"},f=p((()=>(0,i.Lk)("img",{id:"img_principal",src:t},null,-1))),v={id:"div_principal"},g={id:"div_arriba"},E=p((()=>(0,i.Lk)("p",{id:"eslogan"},"PARA COMENZAR, INICIA SESIÓN",-1))),k=p((()=>(0,i.Lk)("button",{id:"boton",type:"submit"},"ACCEDER",-1)));var b={__name:"IniciarView",setup(r){const e=(0,u.Pj)(),o=(0,a.KR)(""),t=(0,a.KR)(""),l=(0,c.rd)(),p=async()=>{const r={email:o.value,pass:t.value};try{const o=await n.A.post("https://tfg-izsx.onrender.com:3000/login",r,{headers:{"Content-Type":"application/json"}}),i=o.data[0];200==o.status&&(e.commit("esNombreUsuario",i[0].name),e.commit("esNombreId",i[0].id),localStorage.setItem("token",o.data[1]),d().fire({position:"top",icon:"success",title:"¡Has iniciado sesión correctamente!",showConfirmButton:!1,timer:1500}),l.push("/seleccionar"))}catch(i){i.response?(console.error("Error de respuesta del servidor:",i.response.data),d().fire("¡Error!","Error con el usuario, revisa los campos introducidos.","error")):i.request?(console.error("Error de solicitud:",i.request),d().fire("¡Error!","Error con el usuario, revisa los campos introducidos.","error")):(console.error("Error:",i.message),d().fire("¡Error!","Error con el usuario, revisa los campos introducidos.","error")),console.error("Error de configuración:",i.config),d().fire("¡Error!","Error con el usuario, revisa los campos introducidos.","error")}};return(r,e)=>{const a=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("section",m,[f,(0,i.Lk)("div",v,[(0,i.Lk)("div",g,[E,(0,i.bF)(a,{to:"/register",id:"pregunta"},{default:(0,i.k6)((()=>[(0,i.eW)("¿No tienes cuenta? Regístrate")])),_:1})]),(0,i.Lk)("form",{id:"formulario",onSubmit:(0,s.D$)(p,["prevent"])},[(0,i.bo)((0,i.Lk)("input",{class:"inputs","onUpdate:modelValue":e[0]||(e[0]=r=>o.value=r),type:"email",placeholder:"Indique su correo electrónico",required:""},null,512),[[s.Jo,o.value]]),(0,i.bo)((0,i.Lk)("input",{class:"inputs","onUpdate:modelValue":e[1]||(e[1]=r=>t.value=r),type:"password",placeholder:"Indique su contraseña",required:""},null,512),[[s.Jo,t.value]]),k],32)])])}}},h=o(1241);const I=(0,h.A)(b,[["__scopeId","data-v-64d5a539"]]);var C=I},8839:function(r,e,o){r.exports=o.p+"img/principal.23c630e8.gif"}}]);
//# sourceMappingURL=367.cbdcdc24.js.map