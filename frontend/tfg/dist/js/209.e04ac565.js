"use strict";(self["webpackChunktfg"]=self["webpackChunktfg"]||[]).push([[209],{4209:function(a,t,e){e.r(t),e.d(t,{default:function(){return $}});e(4114);var o=e(6768),i=e(4232),l=e(5130),r=e(8609),c=e(452),u=e(782),n=e(144),s=e(4373),d=e(4874),p=e.n(d),v=e(1387);const k=a=>((0,o.Qi)("data-v-6575cbf7"),a=a(),(0,o.jt)(),a),m={id:"principal"},C={key:0,id:"img_principal"},_=k((()=>(0,o.Lk)("img",{id:"img_principal",src:r},null,-1))),f=[_],E={key:1,id:"img_principal"},b=k((()=>(0,o.Lk)("img",{id:"img_principal",src:c},null,-1))),g=[b],h={key:2,id:"div_atras"},L={key:3,id:"div_atras"},y={key:4,class:"productos"},X=["src"],A={key:0,class:"div_talla"},T=k((()=>(0,o.Lk)("p",{class:"text_talla"},"Elija su talla",-1))),j=["onUpdate:modelValue"],R=["value"],w=["onClick"],x={key:5},I=k((()=>(0,o.Lk)("p",null,"No hay productos disponibles.",-1))),W=[I],B={id:"section_carrito"},F={key:0,id:"carrito"},K=k((()=>(0,o.Lk)("h2",{id:"titulo_carrito"},"TU CESTA",-1))),P={key:0,class:"producto_carrito"},S=k((()=>(0,o.Lk)("p",null,"¡Tu cesta está vacío!",-1))),Q=[S],V={key:1},M={class:"producto_nombre"},z={class:"producto_precio"},H={class:"producto_talla"},U=["onClick"];var O={__name:"RopaView",setup(a){const t=(0,u.Pj)(),e=(0,v.rd)(),r=(0,o.EW)((()=>t.state.categoriaSeleccionada)),c=(0,o.EW)((()=>t.state.generoSeleccionado)),d=(0,o.EW)((()=>t.state.productosEnCarrito)),k=(0,n.KR)(0),_=(0,n.KR)([]),b=(0,n.KR)([]),I=async()=>{const a=await s.A.post("https://tfg-izsx.onrender.com:3000/subcategoria",{id:r.value},{headers:{"Content-Type":"application/json"}});200===a.status&&(k.value=a.data);const t=await s.A.post("https://tfg-izsx.onrender.com:3000/productos",{subcategory:k.value},{headers:{"Content-Type":"application/json"}});200===t.status&&(_.value=t.data,b.value=Array(t.data.length).fill(""))};I();const S=(a,e)=>{"bolsos"===r.value||e?(t.commit("anadirProducto",{producto:a,talla:e}),p().fire({icon:"success",title:"Añadido",text:"Prenda añadido al carrito."})):p().fire({icon:"error",title:"Por favor Seleccione una Talla."})},O=a=>{t.commit("eliminarProducto",a)},q=()=>{p().fire({title:"¿Estás seguro?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"VACIAR CARRITO",cancelButtonText:"Cancelar"}).then((a=>{a.isConfirmed&&(t.commit("vaciarCarrito"),p().fire("¡Ha quedado Limpio!","Tu carrito ha sido vaciado correctamente.","success"))}))},N=(0,o.EW)((()=>"bolsos"!==r.value)),$=(0,o.EW)((()=>"zapatos"===r.value?["38","39","40","41","42","43"]:"bolsos"===r.value?[]:["S","M","L","XL"])),D=()=>{e.push("/compra")};return(a,t)=>{const e=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("section",m,["Hombre"===c.value?((0,o.uX)(),(0,o.CE)("div",C,f)):"Mujer"===c.value?((0,o.uX)(),(0,o.CE)("div",E,g)):(0,o.Q3)("",!0),"Hombre"===c.value?((0,o.uX)(),(0,o.CE)("div",h,[(0,o.bF)(e,{to:"/hombre",id:"atras"},{default:(0,o.k6)((()=>[(0,o.eW)("Atrás")])),_:1})])):"Mujer"===c.value?((0,o.uX)(),(0,o.CE)("div",L,[(0,o.bF)(e,{to:"/mujer",id:"atras"},{default:(0,o.k6)((()=>[(0,o.eW)("Atrás")])),_:1})])):(0,o.Q3)("",!0),_.value&&_.value.length?((0,o.uX)(),(0,o.CE)("div",y,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(_.value,((a,t)=>((0,o.uX)(),(0,o.CE)("div",{key:a.id,class:"producto"},[(0,o.Lk)("img",{src:`http://localhost:3000/${a.img}`},null,8,X),(0,o.Lk)("h3",null,(0,i.v_)(a.name),1),(0,o.Lk)("p",null,(0,i.v_)(a.price)+" €",1),N.value?((0,o.uX)(),(0,o.CE)("div",A,[T,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":a=>b.value[t]=a},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)($.value,(a=>((0,o.uX)(),(0,o.CE)("option",{key:a,value:a},(0,i.v_)(a),9,R)))),128))],8,j),[[l.u1,b.value[t]]])])):(0,o.Q3)("",!0),(0,o.Lk)("button",{class:"boton_anadir",onClick:e=>S(a,b.value[t])},"Añadir al carrito",8,w)])))),128))])):((0,o.uX)(),(0,o.CE)("div",x,W)),(0,o.Lk)("section",B,[(0,o.bF)(l.eB,{name:"fade-slide"},{default:(0,o.k6)((()=>[d.value&&d.value.length?((0,o.uX)(),(0,o.CE)("div",F,[K,0===d.value.length?((0,o.uX)(),(0,o.CE)("div",P,Q)):((0,o.uX)(),(0,o.CE)("div",V,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(d.value,((a,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"producto_carrito"},[(0,o.Lk)("p",M,(0,i.v_)(a.producto.name),1),(0,o.Lk)("p",z,(0,i.v_)(a.producto.price)+" €",1),(0,o.Lk)("p",H,"Talla: "+(0,i.v_)(a.talla),1),(0,o.Lk)("button",{class:"producto_eliminar",onClick:a=>O(t)},"Eliminar",8,U)])))),128)),(0,o.Lk)("button",{onClick:D,id:"comprar"},"COMPRAR"),(0,o.Lk)("div",{id:"div_vaciar"},[(0,o.Lk)("button",{onClick:q,id:"vaciar_carrito"},"VACIAR CESTA")])]))])):(0,o.Q3)("",!0)])),_:1})])])}}},q=e(1241);const N=(0,q.A)(O,[["__scopeId","data-v-6575cbf7"]]);var $=N},8609:function(a,t,e){a.exports=e.p+"img/hombre.2f1ab5df.jpg"},452:function(a,t,e){a.exports=e.p+"img/mujer.3e54af29.webp"}}]);
//# sourceMappingURL=209.e04ac565.js.map