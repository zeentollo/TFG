{"version":3,"file":"js/209.e04ac565.js","mappings":"irCAqEA,MAAMA,GAAQC,EAAAA,EAAAA,MACRC,GAASC,EAAAA,EAAAA,MACTC,GAAYC,EAAAA,EAAAA,KAAS,IAAML,EAAMM,MAAMC,wBACvCC,GAASH,EAAAA,EAAAA,KAAS,IAAML,EAAMM,MAAMG,qBACpCC,GAAqBL,EAAAA,EAAAA,KAAS,IAAML,EAAMM,MAAMI,qBAChDC,GAAcC,EAAAA,EAAAA,IAAI,GAClBC,GAAYD,EAAAA,EAAAA,IAAI,IAChBE,GAASF,EAAAA,EAAAA,IAAI,IAEbG,EAAmBC,UACvB,MAAMC,QAA0BC,EAAAA,EAAMC,KAAK,kDAAmD,CAAEC,GAAIhB,EAAUiB,OAAS,CACrHC,QAAS,CACP,eAAgB,sBAGa,MAA7BL,EAAkBM,SACpBZ,EAAYU,MAAQJ,EAAkBO,MAExC,MAAMC,QAA0BP,EAAAA,EAAMC,KAAK,+CAAgD,CAAEO,YAAaf,EAAYU,OAAS,CAC7HC,QAAS,CACP,eAAgB,sBAGa,MAA7BG,EAAkBF,SACpBV,EAAUQ,MAAQI,EAAkBD,KACpCV,EAAOO,MAAQM,MAAMF,EAAkBD,KAAKI,QAAQC,KAAK,IAC3D,EAGFd,IAEA,MAAMe,EAAkBA,CAACC,EAAUC,KACT,WAApB5B,EAAUiB,OAAuBW,GAOrChC,EAAMiC,OAAO,iBAAkB,CAAEF,WAAUC,UAC3CE,IAAAA,KAAU,CACRC,KAAM,UACNC,MAAO,UACPC,KAAM,gCAVNH,IAAAA,KAAU,CACRC,KAAM,QACNC,MAAO,mCAST,EAGEE,EAAsBC,IAC1BvC,EAAMiC,OAAO,mBAAoBM,EAAM,EAGnCC,EAAgBA,KACpBN,IAAAA,KAAU,CACRE,MAAO,iBACPD,KAAM,UACNM,kBAAkB,EAClBC,mBAAoB,OACpBC,kBAAmB,UACnBC,kBAAmB,iBACnBC,iBAAkB,aACjBC,MAAMC,IACHA,EAAOC,cACThD,EAAMiC,OAAO,iBACbC,IAAAA,KACE,sBACA,4CACA,WAEJ,GACA,EAGEe,GAAgB5C,EAAAA,EAAAA,KAAS,IAA0B,WAApBD,EAAUiB,QAEzC6B,GAAgB7C,EAAAA,EAAAA,KAAS,IACL,YAApBD,EAAUiB,MACL,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,MACT,WAApBjB,EAAUiB,MACZ,GAEA,CAAC,IAAK,IAAK,IAAK,QAIrB8B,EAAUA,KACdjD,EAAOkD,KAAK,UAAU,E,m9DCpJxB,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://tfg/./src/views/RopaView.vue","webpack://tfg/./src/views/RopaView.vue?4277"],"sourcesContent":["<template>\n  <section id=\"principal\">\n    <div id=\"img_principal\" v-if=\"genero === 'Hombre'\">\n      <img id=\"img_principal\" src=\"@/assets/img/hombre.jpg\">\n    </div>\n\n    <div id=\"img_principal\" v-else-if=\"genero === 'Mujer'\">\n      <img id=\"img_principal\" src=\"@/assets/img/mujer.webp\">\n    </div>\n\n    <div id=\"div_atras\" v-if=\"genero === 'Hombre'\">\n      <router-link to=\"/hombre\" id=\"atras\">Atrás</router-link>\n    </div>\n\n    <div id=\"div_atras\" v-else-if=\"genero === 'Mujer'\">\n      <router-link to=\"/mujer\" id=\"atras\">Atrás</router-link>\n    </div>\n\n    <div class=\"productos\" v-if=\"productos && productos.length\">\n      <div v-for=\"(producto, index) in productos\" :key=\"producto.id\" class=\"producto\">\n        <img :src=\"`http://localhost:3000/${producto.img}`\">\n        <h3>{{ producto.name }}</h3>\n        <p>{{ producto.price }} €</p>\n        <div class=\"div_talla\" v-if=\"mostrarTallas\">\n          <p class=\"text_talla\">Elija su talla</p>\n          <select v-model=\"tallas[index]\">\n            <option v-for=\"talla in opcionesTalla\" :key=\"talla\" :value=\"talla\">{{ talla }}</option>\n          </select>\n        </div>\n        <button class=\"boton_anadir\" @click=\"anadirAlCarrito(producto, tallas[index])\">Añadir al carrito</button>\n      </div>\n    </div>\n\n    <div v-else>\n      <p>No hay productos disponibles.</p>\n    </div>\n\n    <section id=\"section_carrito\">\n      <transition name=\"fade-slide\">\n        <div id=\"carrito\" v-if=\"productosEnCarrito && productosEnCarrito.length\">\n          <h2 id=\"titulo_carrito\">TU CESTA</h2>\n          <div v-if=\"productosEnCarrito.length === 0\" class=\"producto_carrito\">\n            <p>¡Tu cesta está vacío!</p>\n          </div>\n          <div v-else>\n            <div v-for=\"(item, index) in productosEnCarrito\" :key=\"index\" class=\"producto_carrito\">\n              <p class=\"producto_nombre\">{{ item.producto.name }}</p>\n              <p class=\"producto_precio\">{{ item.producto.price }} €</p>\n              <p class=\"producto_talla\">Talla: {{ item.talla }}</p>\n              <button class=\"producto_eliminar\" @click=\"eliminarDelCarrito(index)\">Eliminar</button>\n            </div>\n            <button @click=\"comprar\" id=\"comprar\">COMPRAR</button>\n            <div id=\"div_vaciar\">\n              <button @click=\"vaciarCarrito\" id=\"vaciar_carrito\">VACIAR CESTA</button>\n            </div>\n          </div>\n        </div>\n      </transition>\n    </section>\n  </section>\n</template>\n\n<script setup>\nimport { useStore } from 'vuex';\nimport { computed, ref } from 'vue';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport { useRouter } from 'vue-router';\n\nconst store = useStore();\nconst router = useRouter();\nconst categoria = computed(() => store.state.categoriaSeleccionada);\nconst genero = computed(() => store.state.generoSeleccionado);\nconst productosEnCarrito = computed(() => store.state.productosEnCarrito);\nconst categoriaId = ref(0);\nconst productos = ref([]);\nconst tallas = ref([]);\n\nconst obtenerProductos = async () => {\n  const responseCategoria = await axios.post(\"https://tfg-izsx.onrender.com:3000/subcategoria\", { id: categoria.value }, {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  });\n  if (responseCategoria.status === 200) {\n    categoriaId.value = responseCategoria.data;\n  }\n  const responseProductos = await axios.post(\"https://tfg-izsx.onrender.com:3000/productos\", { subcategory: categoriaId.value }, {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  });\n  if (responseProductos.status === 200) {\n    productos.value = responseProductos.data;\n    tallas.value = Array(responseProductos.data.length).fill(\"\");\n  }\n};\n\nobtenerProductos()\n\nconst anadirAlCarrito = (producto, talla) => {\n  if (categoria.value !== 'bolsos' && !talla) {\n    Swal.fire({\n      icon: 'error',\n      title: 'Por favor Seleccione una Talla.'\n    });\n    return;\n  }\n  store.commit('anadirProducto', { producto, talla });\n  Swal.fire({\n    icon: 'success',\n    title: 'Añadido',\n    text: 'Prenda añadido al carrito.',\n  });\n};\n\nconst eliminarDelCarrito = (index) => {\n  store.commit('eliminarProducto', index);\n};\n\nconst vaciarCarrito = () => {\n  Swal.fire({\n    title: '¿Estás seguro?',\n    icon: 'warning',\n    showCancelButton: true,\n    confirmButtonColor: '#d33',\n    cancelButtonColor: '#3085d6',\n    confirmButtonText: 'VACIAR CARRITO',\n    cancelButtonText: 'Cancelar'\n  }).then((result) => {\n    if (result.isConfirmed) {\n      store.commit('vaciarCarrito');\n      Swal.fire(\n        '¡Ha quedado Limpio!',\n        'Tu carrito ha sido vaciado correctamente.',\n        'success'\n      );\n    }\n  });\n};\n\nconst mostrarTallas = computed(() => categoria.value !== 'bolsos');\n\nconst opcionesTalla = computed(() => {\n  if (categoria.value === 'zapatos') {\n    return ['38', '39', '40', '41', '42', '43'];\n  } else if (categoria.value === 'bolsos') {\n    return [];\n  } else {\n    return ['S', 'M', 'L', 'XL'];\n  }\n});\n\nconst comprar = () => {\n  router.push(\"/compra\")\n}\n</script>\n\n<style scoped>\n@keyframes slide-fade-in {\n  0% {\n    transform: translateX(100%);\n    opacity: 0;\n  }\n  100% {\n    transform: translateX(0);\n    opacity: 1;\n  }\n}\n\n.fade-slide-enter-active {\n  animation: slide-fade-in 0.5s ease-out forwards;\n}\n\n#principal {\n  background-color: #f0f0f0;\n}\n\n#div_atras{\n  align-items: center;\n  text-align: center;\n}\n\n#atras{\n  font-size: 18px;\n  text-decoration: none;\n  color: black;\n}\n\n#atras:hover{\n  color: rgb(111, 0, 0);\n}\n\n#img_principal {\n  width: 100%;\n  height: 90vh;\n  margin-bottom: 30px;\n}\n\n.productos {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n\n.boton_anadir {\n  margin-top: 20px;\n  padding: 10px 20px;\n  background-color: #66adff;\n  border: none;\n  border-radius: 5px;\n  color: white;\n  cursor: pointer;\n}\n\n.producto {\n  margin: 20px;\n  padding: 10px;\n  border-radius: 5px;\n  text-align: center;\n  background-color: #fff;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.div_talla {\n  display: flex;\n  justify-content: center;\n  margin-top: 10px;\n}\n\n.text_talla {\n  margin-right: 20px;\n  font-size: 16px;\n}\n\n.producto img {\n  max-width: 45vh;\n  height: auto;\n  border-radius: 5px;\n}\n\n#section_carrito {\n  position: fixed;\n  top: 10vh;\n  right: -5px;\n  z-index: 1000;\n}\n\n#carrito {\n  position: relative;\n  width: 25vh;\n  padding: 30px;\n  border: 2px solid;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  background-color: white;\n  overflow-x: auto;\n  max-height: 70vh;\n}\n\n\n\n#titulo_carrito {\n  text-align: center;\n  margin-bottom: 40px;\n  font-size: 28px;\n}\n\n.producto_carrito {\n  margin-bottom: 10px;\n}\n\n.producto_nombre {\n  font-weight: bold;\n  font-size: 24px;\n  margin-bottom: 5px;\n}\n\n.producto_precio {\n  margin-bottom: 10px;\n}\n\n.producto_talla {\n  margin-bottom: 10px;\n}\n\n#comprar {\n  background-color: #2E2E2E;\n  width: 100%;\n  padding: 5px;\n  color: white;\n  letter-spacing: 3px;\n  font-size: 18px;\n  font-weight: bold;\n  margin: 10px;\n  margin-bottom: 30px;\n}\n\n#comprar:hover{\n  cursor: pointer;\n  color: rgb(210, 255, 218);\n}\n\n.producto_eliminar {\n  background-color: #2E2E2E;\n  width: 100%;\n  padding: 5px;\n  color: #FFB1B1;\n  font-weight: bold;\n  margin: 10px;\n  margin-left: 0;\n  margin-bottom: 40px;\n}\n\n.producto_eliminar:hover{\n  color: #ff6666;\n  cursor: pointer;\n}\n\n#div_vaciar {\n  width: 100%;\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n}\n\n#vaciar_carrito {\n  margin-top: 10px;\n  border: 0;\n  color: #AEAEAE;\n  background-color: white;\n  font-size: 18px;\n}\n\n#vaciar_carrito:hover{\n  cursor: pointer;\n  color: #ff6161 ;\n}\n</style>\n","import script from \"./RopaView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RopaView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RopaView.vue?vue&type=style&index=0&id=6575cbf7&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6575cbf7\"]])\n\nexport default __exports__"],"names":["store","useStore","router","useRouter","categoria","computed","state","categoriaSeleccionada","genero","generoSeleccionado","productosEnCarrito","categoriaId","ref","productos","tallas","obtenerProductos","async","responseCategoria","axios","post","id","value","headers","status","data","responseProductos","subcategory","Array","length","fill","anadirAlCarrito","producto","talla","commit","Swal","icon","title","text","eliminarDelCarrito","index","vaciarCarrito","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then","result","isConfirmed","mostrarTallas","opcionesTalla","comprar","push","__exports__"],"sourceRoot":""}