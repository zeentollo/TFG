{"version":3,"file":"js/825.0f8ea21a.js","mappings":"ysBA4BA,MAAMA,GAAOC,EAAAA,EAAAA,IAAI,IACXC,GAAOD,EAAAA,EAAAA,IAAI,IACXE,GAAQF,EAAAA,EAAAA,IAAI,IACZG,GAAOH,EAAAA,EAAAA,IAAI,IACXI,GAASC,EAAAA,EAAAA,MAETC,EAAWC,UACf,MAAMC,EAAO,CACXT,KAAMA,EAAKU,MACXR,KAAMA,EAAKQ,MACXP,MAAOA,EAAMO,MACbN,KAAMA,EAAKM,OAGb,IACE,MAAMC,QAAiBC,EAAAA,EAAMC,KAAK,8CAA+CJ,EAAM,CACrFK,QAAS,CACP,eAAgB,sBAGpBC,QAAQC,IAAIL,GACW,KAAnBA,EAASM,SACXC,IAAAA,KACE,eACA,gCACA,WAEFb,EAAOc,KAAK,KAEhB,CAAE,MAAOC,GACHA,EAAMT,UACRI,QAAQK,MAAM,mCAAoCA,EAAMT,SAASF,MACjES,IAAAA,KACE,UACA,yDACA,UAEOE,EAAMC,SACfN,QAAQK,MAAM,sBAAuBA,EAAMC,SAC3CH,IAAAA,KACE,UACA,wDACA,WAGFH,QAAQK,MAAM,SAAUA,EAAME,SAC9BJ,IAAAA,KACE,UACA,wDACA,UAGJH,QAAQK,MAAM,0BAA2BA,EAAMG,QAC/CL,IAAAA,KACI,UACA,yDACA,QAEN,GAGIM,EAAWA,KACf,MAAMC,EAAe,iBACfC,EAAgB,6BAChBC,EAAe,4DAErB,IAAKF,EAAaG,KAAK5B,EAAKU,OAM1B,YALAQ,IAAAA,KACI,UACA,6DACA,SAKN,IAAKQ,EAAcE,KAAKzB,EAAMO,OAM5B,YALAQ,IAAAA,KACI,UACA,sCACA,SAKN,IAAKS,EAAaC,KAAKxB,EAAKM,OAM1B,YALAQ,IAAAA,KACI,UACA,yFACA,SAKN,MAAMW,EAAkB,IAAIC,KAAK5B,EAAKQ,OAChCqB,EAAW,IAAID,KAAK,cACpBE,EAAW,IAAIF,KAEjBD,EAAkBE,GAAYF,EAAkBG,EAClDd,IAAAA,KACI,UACA,yCACA,SAKNX,GAAU,E,+lCChIZ,MAAM0B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://tfg/./src/views/RegisterView.vue","webpack://tfg/./src/views/RegisterView.vue?1ec6"],"sourcesContent":["<template>\n  <section id=\"principal\">\n    <img id=\"img_principal\" src=\"@/assets/img/principal.gif\" alt=\"Principal Image\">\n    <div id=\"div_principal\">\n      <div id=\"div_arriba\">\n        <p id=\"eslogan\">¡HOLA, ES UN GUSTO TENERTE POR AQUÍ!</p>\n        <router-link to=\"/\" id=\"pregunta\">¿Ya tienes cuenta? Iniciar Sesión</router-link>\n      </div>\n      <form id=\"formulario\" @submit.prevent=\"validate\">\n        <input class=\"inputs\" type=\"text\" v-model=\"name\" id=\"input_name\" placeholder=\"Indique su nombre de usuario\" required>\n        <div id=\"div_date\">\n          <p id=\"texto\">Indique su fecha de nacimiento</p>\n          <input class=\"inputs\" type=\"date\" v-model=\"date\" id=\"input_date\" required>\n        </div>\n        <input class=\"inputs\" type=\"email\" v-model=\"email\" id=\"input_email\" placeholder=\"Indique su correo electrónico\" required>\n        <input class=\"inputs\" type=\"password\" v-model=\"pass\" id=\"input_pass\" placeholder=\"Indique su contraseña\" required>\n        <button id=\"boton\">REGISTRATE</button>\n      </form>\n    </div>\n  </section>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport axios from 'axios'\nimport { useRouter } from 'vue-router';\nimport Swal from 'sweetalert2';\n\nconst name = ref(\"\")\nconst date = ref(\"\")\nconst email = ref(\"\")\nconst pass = ref(\"\")\nconst router = useRouter()\n\nconst register = async () => {\n  const data = {\n    name: name.value,\n    date: date.value,\n    email: email.value,\n    pass: pass.value,\n  }\n\n  try {\n    const response = await axios.post(\"https://tfg-izsx.onrender.com:3000/register\", data, {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n    console.log(response)\n    if (response.status == 200) {\n      Swal.fire(\n        '¡Bienvenido!',\n        'Usuario creado correctamente.',\n        'success'\n      );\n      router.push(\"/\")\n    }\n  } catch (error) {\n    if (error.response) {\n      console.error('Error de respuesta del servidor:', error.response.data)\n      Swal.fire(\n        '¡Error!',\n        'Ese usuario ya existe, revisa los campos introducidos.',\n        'error'\n      );\n    } else if (error.request) {\n      console.error('Error de solicitud:', error.request)\n      Swal.fire(\n        '¡Error!',\n        'Ha ocurrido un error, revisa los campos introducidos.',\n        'error'\n      );\n    } else {\n      console.error('Error:', error.message)\n      Swal.fire(\n        '¡Error!',\n        'Ha ocurrido un error, revisa los campos introducidos.',\n        'error'\n      );\n    }\n    console.error('Error de configuración:', error.config)\n    Swal.fire(\n        '¡Error!',\n        'Ese usuario ya existe, revisa los campos introducidos.',\n        'error'\n      );\n  }\n}\n\nconst validate = () => {\n  const nameSimbolos = /^[a-zA-Z0-9]+$/;\n  const emailSimbolos = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  const passSimbolos = /^(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;\n\n  if (!nameSimbolos.test(name.value)) {\n    Swal.fire(\n        '¡Error!',\n        'El nombre de usuario solo puede contener letras y números.',\n        'error'\n      );\n    return;\n  }\n\n  if (!emailSimbolos.test(email.value)) {\n    Swal.fire(\n        '¡Error!',\n        'El correo electrónico no es válido.',\n        'error'\n      );\n    return;\n  }\n\n  if (!passSimbolos.test(pass.value)) {\n    Swal.fire(\n        '¡Error!',\n        'La contraseña debe tener al menos 8 caracteres, una mayúscula, un número y un símbolo.',\n        'error'\n      );\n    return;\n  }\n\n  const fechaNacimiento = new Date(date.value);\n  const minFecha = new Date('1900-01-01');\n  const maxFecha = new Date();\n\n  if (fechaNacimiento < minFecha || fechaNacimiento > maxFecha) {\n    Swal.fire(\n        '¡Error!',\n        'La fecha de nacimiento no es correcta.',\n        'error'\n      );\n    return;\n  }\n\n  register();\n}\n</script>\n\n<style lang=\"scss\" scoped>\n#principal {\n  background-image: url(\"@/assets/img/fondo.jpg\");\n  background-size: cover;\n  background-position: center;\n}\n\n#img_principal {\n  width: 100%;\n  height: 90vh;\n}\n\n#div_principal {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n}\n\n#div_arriba {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  margin: 100px;\n}\n\n#eslogan {\n  margin: 40px;\n  letter-spacing: 4px;\n  font-size: 40px;\n}\n\n#pregunta {\n  text-decoration: none;\n  color: #8f8f8f;\n  font-weight: bold;\n  letter-spacing: 4px;\n  font-size: 32px;\n}\n\n#formulario {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n}\n\n#div_date {\n  margin: 10px 0;\n\n  #texto {\n    text-align: left;\n    margin-left: 20px;\n    font-size: 22px;\n    letter-spacing: 4px;\n  }\n\n  #input_date {\n    margin-top: 0;\n  }\n}\n\n.inputs {\n  width: 100vh;\n  height: 50px;\n  border-radius: 10px;\n  border: 1px solid;\n  background-color: #f2f2f2;\n  padding: 10px;\n  margin: 10px 0;\n  letter-spacing: 4px;\n  font-size: 22px;\n}\n\n#boton {\n  margin: 80px;\n  cursor: pointer;\n  background-color: #454545;\n  color: white;\n  font-weight: bold;\n  letter-spacing: 4px;\n  font-size: 32px;\n  padding: 10px;\n  margin-bottom: 80px;\n}\n\n#boton:hover {\n  color: rgb(218, 218, 255);\n}\n</style>\n","import script from \"./RegisterView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RegisterView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RegisterView.vue?vue&type=style&index=0&id=32778880&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-32778880\"]])\n\nexport default __exports__"],"names":["name","ref","date","email","pass","router","useRouter","register","async","data","value","response","axios","post","headers","console","log","status","Swal","push","error","request","message","config","validate","nameSimbolos","emailSimbolos","passSimbolos","test","fechaNacimiento","Date","minFecha","maxFecha","__exports__"],"sourceRoot":""}